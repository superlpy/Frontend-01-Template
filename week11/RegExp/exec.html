
<script>
    var source = `
        function sleep(t){
            return new Promisse(function(resolve){
                setTimeOut(resolve, t);
            });
        }
    `

    var regexp = /(function|return|new)|([ \t\n\r]+)|([a-zA-Z][a-zA-Z0-9]*)|([\(\)\{\}\,\;])/g

    var dictionary = ["keywords", 'whitespace', 'identifier', 'punctuator'];

    var token = null;
    var lastIndex = 0;


    do{
        lastIndex = regexp.lastIndex;
        token = regexp.exec(source);
        if(!token) break;
        console.log(regexp.lastIndex);
        for(var i = 1; i < 5; i++){
            if(token[i])
                console.log(dictionary[i - 1], token[0]);
        }
    }while(token);

</script>